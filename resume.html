---
layout: page
title: "Resume"
description: "「毛遂自荐」"
header-mask: 0.3
header-img: img/resume.png
multilingual: false
hide-in-nav: true
---

<div class="password-protection">
  <h2>简历访问需要密码</h2>
  <p>请输入密码以查看和下载简历</p>
  <input type="password" id="resume-password" placeholder="输入密码">
  <button id="submit-password" class="btn btn-primary">提交</button>
  <p id="password-error" style="color: red; display: none;">密码错误，请重试</p>
</div>

<div class="resume-container" style="display: none;">
  <h1>个人简历</h1>
  
  <div class="resume-intro">
    <p>这里展示我的个人简历。点击下方按钮查看完整PDF版本。</p>
  </div>
  
  <div class="resume-download">
    <a href="{{ site.baseurl }}/resume.pdf" class="btn btn-primary" target="_blank">
      <i class="fa fa-download"></i> 下载PDF简历
    </a>
  </div>
  
  <div class="resume-preview">
    <h2>简历预览</h2>
    <div class="resume-placeholder">
      <p>PDF简历将在此处预览</p>
      <p>由于目前没有提供实际PDF文件，此为占位区域</p>
    </div>
  </div>
</div>

<script>
// 密码信息记录 - 原始密码: 4399, MD5哈希值: 154279d8c3e9d1a5240940c62c05366a
// 如果忘记密码，可以通过此注释找回相关信息

  // 存储密码的MD5哈希值（原始密码: 4399）
  const PASSWORD_HASH = '154279d8c3e9d1a5240940c62c05366a';
  let attemptCount = 0;
  const MAX_ATTEMPTS = 5;
  const LOCK_TIME = 30; // 锁定时间（秒）
  let isLocked = false;

  // MD5哈希函数（简化版）
  function md5(str) {
    // 实际项目中应使用标准的MD5库
    // 这里为了演示，使用一个简化的实现
    const crypto = window.crypto || window.msCrypto;
    if (crypto && crypto.subtle) {
      const encoder = new TextEncoder();
      const data = encoder.encode(str);
      return crypto.subtle.digest('MD5', data)
        .then(hash => {
          return Array.from(new Uint8Array(hash))
            .map(b => b.toString(16).padStart(2, '0'))
            .join('');
        });
    } else {
      // 回退方案，使用简单的哈希实现
      let hash = 0;
      if (str.length === 0) return hash;
      for (let i = 0; i < str.length; i++) {
        const char = str.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash; // 转换为32位整数
      }
      return Math.abs(hash).toString(16);
    }
  }

  document.getElementById('submit-password').addEventListener('click', async function() {
    if (isLocked) {
      document.getElementById('password-error').textContent = '尝试次数过多，请稍后再试';
      document.getElementById('password-error').style.display = 'block';
      return;
    }

    const password = document.getElementById('resume-password').value;
    const hash = await md5(password);

    if (hash === PASSWORD_HASH) {
      document.querySelector('.password-protection').style.display = 'none';
      document.querySelector('.resume-container').style.display = 'block';
      attemptCount = 0; // 重置尝试次数
    } else {
      attemptCount++;
      document.getElementById('password-error').textContent = '密码错误，请重试（剩余尝试次数：' + (MAX_ATTEMPTS - attemptCount) + '）';
      document.getElementById('password-error').style.display = 'block';

      if (attemptCount >= MAX_ATTEMPTS) {
        isLocked = true;
        document.getElementById('password-error').textContent = '尝试次数过多，' + LOCK_TIME + '秒后可重试';
        document.getElementById('submit-password').disabled = true;

        // 倒计时解锁
        let countdown = LOCK_TIME;
        const timer = setInterval(() => {
          countdown--;
          document.getElementById('password-error').textContent = '尝试次数过多，' + countdown + '秒后可重试';
          if (countdown <= 0) {
            clearInterval(timer);
            isLocked = false;
            attemptCount = 0;
            document.getElementById('password-error').style.display = 'none';
            document.getElementById('submit-password').disabled = false;
          }
        }, 1000);
      }
    }
  });

  // 支持按Enter键提交密码
  document.getElementById('resume-password').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      document.getElementById('submit-password').click();
    }
  });
</script>

<style>
.resume-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
}

.resume-intro {
  margin-bottom: 30px;
  font-size: 16px;
}

.resume-download {
  margin-bottom: 40px;
  text-align: center;
}

.resume-preview {
  background-color: #f9f9f9;
  padding: 20px;
  border-radius: 5px;
  border: 1px solid #e0e0e0;
}

.resume-placeholder {
  height: 400px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  color: #666;
}

.password-protection {
  max-width: 500px;
  margin: 50px auto;
  padding: 30px;
  background-color: #f9f9f9;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
  text-align: center;
}

.password-protection h2 {
  margin-bottom: 20px;
  color: #333;
}

.password-protection p {
  margin-bottom: 20px;
  color: #666;
}

#resume-password {
  padding: 10px 15px;
  width: 70%;
  margin-bottom: 20px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
}

#submit-password {
  padding: 10px 25px;
  font-size: 16px;
  cursor: pointer;
}

#password-error {
  margin-top: 15px;
}
</style>